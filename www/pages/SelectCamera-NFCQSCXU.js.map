{
  "version": 3,
  "sources": ["../../front/src/pages/SelectCamera.js"],
  "sourcesContent": ["import { getPreferredVideoDevice } from '../components/camerainfo'\r\n\r\nlet gotoPage = window.MHR.gotoPage\r\nlet goHome = window.MHR.goHome\r\nlet storage = window.MHR.storage\r\nlet log = window.MHR.log\r\n\r\nwindow.MHR.register(\"SelectCamera\", class extends window.MHR.AbstractPage {\r\n\r\n    constructor(id) {\r\n        super(id)\r\n    }\r\n\r\n    async enter() {\r\n        let html = this.html\r\n\r\n        try {\r\n            var preferredVideoDevices = await getPreferredVideoDevice()\r\n            if (preferredVideoDevices.videoDevices.length == 0) {\r\n                this.render(html`<p>No camera available</p>`)\r\n                return;\r\n            }\r\n\r\n            var videoDevices = preferredVideoDevices.videoDevices\r\n\r\n        } catch (error) {\r\n            this.render(html`<p>No camera available</p>`)\r\n            return;\r\n        }\r\n\r\n        let theHtml = html`\r\n        <ion-list class=\"w3-container\">\r\n            <ion-list-header>\r\n            <ion-label>Select a camera</ion-label>\r\n            </ion-list-header>\r\n            ${videoDevices.map((camera) =>\r\n                html`<ion-item button @click=${() => this.setCamera(camera.deviceId)}><ion-label>\r\n                <div class=\"text-larger\">${camera.label}</div></a>\r\n                </ion-label></ion-item>`\r\n            )}\r\n        </ion-list>`\r\n        this.render(theHtml)\r\n    }\r\n\r\n    async setCamera(cameraID) {\r\n        window.selectedCamera = cameraID\r\n        localStorage.setItem(\"selectedCamera\", cameraID)\r\n        goHome()\r\n    }\r\n\r\n})\r\n"],
  "mappings": ";;;;;;AAEA,IAAI,WAAW,OAAO,IAAI;AAC1B,IAAI,SAAS,OAAO,IAAI;AACxB,IAAI,UAAU,OAAO,IAAI;AACzB,IAAI,MAAM,OAAO,IAAI;AAErB,OAAO,IAAI,SAAS,gBAAgB,cAAc,OAAO,IAAI,aAAa;AAAA,EAEtE,YAAY,IAAI;AACZ,UAAM,EAAE;AAAA,EACZ;AAAA,EAEA,MAAM,QAAQ;AACV,QAAI,OAAO,KAAK;AAEhB,QAAI;AACA,UAAI,wBAAwB,MAAM,wBAAwB;AAC1D,UAAI,sBAAsB,aAAa,UAAU,GAAG;AAChD,aAAK,OAAO,gCAAgC;AAC5C;AAAA,MACJ;AAEA,UAAI,eAAe,sBAAsB;AAAA,IAE7C,SAAS,OAAO;AACZ,WAAK,OAAO,gCAAgC;AAC5C;AAAA,IACJ;AAEA,QAAI,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,cAKR,aAAa;AAAA,MAAI,CAAC,WAChB,+BAA+B,MAAM,KAAK,UAAU,OAAO,QAAQ,CAAC;AAAA,2CACzC,OAAO,KAAK;AAAA;AAAA,IAE3C,CAAC;AAAA;AAEL,SAAK,OAAO,OAAO;AAAA,EACvB;AAAA,EAEA,MAAM,UAAU,UAAU;AACtB,WAAO,iBAAiB;AACxB,iBAAa,QAAQ,kBAAkB,QAAQ;AAC/C,WAAO;AAAA,EACX;AAEJ,CAAC;",
  "names": []
}
